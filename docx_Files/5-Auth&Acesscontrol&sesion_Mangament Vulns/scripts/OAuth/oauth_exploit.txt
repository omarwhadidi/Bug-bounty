require 'oauth2'

callback = "http://ddsec.xyz"
app_id = "184439ffef1271f6df2dc709dfc8e07ed78dae8dd3cce0319680b4c587c59371"
secret = "177a406ca59393e9946489e4bf85c03f43e9593825126db7c721cdc55d8f1ef0"

client = OAuth2::Client.new(app_id, secret, site: "http://authorization-ptl-402e9b14-540bfe3a.libcurl.so/")
puts client.auth_code.authorize_url(redirect_uri: callback)

exit
code="[CODE]"
access = client.auth_code.get_token( code, redirect_uri: callback)
access.get("/api/user").parsed
puts access.token 